{
  "version": 4,
  "terraform_version": "1.10.3",
  "serial": 258,
  "lineage": "80bcb53d-dd59-9434-cf3f-69fc2449b7f2",
  "outputs": {},
  "resources": [
    {
      "mode": "managed",
      "type": "proxmox_vm",
      "name": "haproxy",
      "provider": "provider[\"app.terraform.io/zevrant-services/proxmox\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acpi": true,
            "bios": "seabios",
            "boot_order": [
              "scsi0"
            ],
            "cloud_init_storage_name": "local-zfs",
            "cores": 8,
            "cpu_limit": 0,
            "cpu_type": "host",
            "default_user": "zevrant",
            "description": "vm-agent-testing",
            "disk": [
              {
                "async_io": "default",
                "backup_enabled": true,
                "bus_type": "scsi",
                "cache": "default",
                "discard_enabled": false,
                "id": 0,
                "import_from": "local",
                "import_path": "0/haproxy-base-0.0.38.qcow2",
                "io_thread": true,
                "order": 0,
                "read_only": false,
                "replicate": true,
                "size": "50G",
                "ssd_emulation": false,
                "storage_location": "local-zfs"
              },
              {
                "async_io": "default",
                "backup_enabled": true,
                "bus_type": "scsi",
                "cache": "default",
                "discard_enabled": false,
                "id": 1,
                "import_from": "local",
                "import_path": "0/secret-volume-cd4e14eb-91df-0bc8-ab44-09cd87cdf6b0.qcow2",
                "io_thread": true,
                "order": 1,
                "read_only": false,
                "replicate": true,
                "size": "1G",
                "ssd_emulation": false,
                "storage_location": "local-zfs"
              },
              {
                "async_io": "default",
                "backup_enabled": true,
                "bus_type": "scsi",
                "cache": "default",
                "discard_enabled": false,
                "id": 2,
                "import_from": "local",
                "import_path": "0/secret-volume-d00b02c2-dc4e-c3a7-1d8f-1cf7c14ef60e.qcow2",
                "io_thread": true,
                "order": 2,
                "read_only": false,
                "replicate": true,
                "size": "1G",
                "ssd_emulation": false,
                "storage_location": "local-zfs"
              }
            ],
            "host_startup_order": 1,
            "ip_config": [
              {
                "gateway": "10.1.0.1",
                "ip_address": "10.1.0.100/24",
                "order": 0
              }
            ],
            "kvm": true,
            "memory": 8192,
            "name": "haproxy-ingress-02",
            "nameserver": "10.0.0.8",
            "network_interface": [
              {
                "bridge": "shared",
                "firewall": true,
                "mac_address": "BC:24:11:34:86:f4",
                "mtu": 1412,
                "order": 0,
                "type": "virtio"
              }
            ],
            "node_name": "proxmox-03",
            "numa_active": false,
            "os_type": "l26",
            "perform_cloud_init_upgrade": true,
            "power_state": "running",
            "protection": false,
            "qemu_agent_enabled": true,
            "scsi_hw": "virtio-scsi-single",
            "sockets": 1,
            "ssh_keys": [
              "ecdsa-sha2-nistp384 AAAAE2VjZHNhLXNoYTItbmlzdHAzODQAAAAIbmlzdHAzODQAAABhBLtOxtriPtNmisKkmfHfCByaTYCHRsDHyzQAi0yL6LUeKybjYExfR6N0xBMcIj6M/b5U3aafjKayX4nMvV7s7/vcrpBfW+WvxOCBWTlhKGNpUmAS9ApFDn51/FTuRgB/YA=="
            ],
            "start_on_boot": false,
            "tags": [
              "loadbalancer"
            ],
            "vm_id": "9001",
            "vmgenid": "51515f65-cc16-473b-9ce5-e1201159d985"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "network_interface"
              },
              {
                "type": "index",
                "value": {
                  "value": 0,
                  "type": "number"
                }
              },
              {
                "type": "get_attr",
                "value": "mac_address"
              }
            ]
          ],
          "dependencies": [
            "module.haproxy_secret_volume.local_file.secret_files",
            "module.haproxy_secret_volume.null_resource.secret_volume",
            "module.haproxy_secret_volume.random_uuid.secrets_folder",
            "module.haproxy_secret_volume.terraform_data.regenerate_uuid",
            "module.keepalived_secret_volume.local_file.secret_files",
            "module.keepalived_secret_volume.null_resource.secret_volume",
            "module.keepalived_secret_volume.random_uuid.secrets_folder",
            "module.keepalived_secret_volume.terraform_data.regenerate_uuid",
            "module.s3_internal_certificate.terraform_data.ttl",
            "module.s3_internal_certificate.vault_pki_secret_backend_cert.certificate_request",
            "random_bytes.mac_address_1",
            "random_bytes.mac_address_2",
            "random_bytes.mac_address_3"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "random_bytes",
      "name": "mac_address_1",
      "provider": "provider[\"registry.terraform.io/hashicorp/random\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "base64": "NA==",
            "hex": "34",
            "keepers": null,
            "length": 1
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "hex"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "base64"
              }
            ]
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "random_bytes",
      "name": "mac_address_2",
      "provider": "provider[\"registry.terraform.io/hashicorp/random\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "base64": "hg==",
            "hex": "86",
            "keepers": null,
            "length": 1
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "base64"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "hex"
              }
            ]
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "random_bytes",
      "name": "mac_address_3",
      "provider": "provider[\"registry.terraform.io/hashicorp/random\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "base64": "9A==",
            "hex": "f4",
            "keepers": null,
            "length": 1
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "hex"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "base64"
              }
            ]
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "random_bytes",
      "name": "rpc_password",
      "provider": "provider[\"registry.terraform.io/hashicorp/random\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "base64": "KIUk5talF9Eq3VE/K/l0DPilTMJ8uCei910cTy5Vt3s=",
            "hex": "288524e6d6a517d12add513f2bf9740cf8a54cc27cb827a2f75d1c4f2e55b77b",
            "keepers": null,
            "length": 32
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "base64"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "hex"
              }
            ]
          ]
        }
      ]
    },
    {
      "module": "module.haproxy_secret_volume",
      "mode": "managed",
      "type": "local_file",
      "name": "secret_files",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "content": "#---------------------------------------------------------------------\n# Example configuration for a possible web application.  See the\n# full configuration options online.\n#\n#   https://www.haproxy.org/download/1.8/doc/configuration.txt\n#\n#---------------------------------------------------------------------\n\n#---------------------------------------------------------------------\n# Global settings\n#---------------------------------------------------------------------\nglobal\n    # to have these messages end up in /var/log/haproxy.log you will\n    # need to:\n    #\n    # 1) configure syslog to accept network log events.  This is done\n    #    by adding the '-r' option to the SYSLOGD_OPTIONS in\n    #    /etc/sysconfig/syslog\n    #\n    # 2) configure local2 events to go to the /var/log/haproxy.log\n    #   file. A line like the following can be added to\n    #   /etc/sysconfig/syslog\n    #\n    #    local2.*                       /var/log/haproxy.log\n    #\n    log stdout local0\n    chroot      /var/lib/haproxy\n    pidfile     /var/run/haproxy.pid\n    maxconn     4000\n    user        haproxy\n    group       haproxy\n    daemon\n\n# turn on stats unix socket\nstats socket /var/lib/haproxy/stats\n\n# utilize system-wide crypto-policies\nssl-default-bind-ciphers PROFILE=SYSTEM\nssl-default-server-ciphers PROFILE=SYSTEM\n\n\n#---------------------------------------------------------------------\n# common defaults that all the 'listen' and 'backend' sections will\n# use if not designated in their block\n#---------------------------------------------------------------------\ndefaults\nmode                    http\nlog                     global\noption                  httplog\noption                  dontlognull\noption http-server-close\noption                  redispatch\nretries                 3\ntimeout http-request    10s\ntimeout queue           1m\ntimeout connect         10s\ntimeout client          1m\ntimeout server          1m\ntimeout http-keep-alive 10s\ntimeout check           10s\nmaxconn                 3000\n",
            "content_base64": null,
            "content_base64sha256": "myoyc6v179cFEHqY/89kwWx9F0oDdcXtE7dXkWrLTFY=",
            "content_base64sha512": "Ffz32pXzGSLls7r/G+zY/1Rt1bHB+QjQsiND/6SiWnDlagV2QelJZKHeIwPVMPLThUC5yhyQicmO0TGU70kx3g==",
            "content_md5": "0502956601409e4b64a0303d274ae7d0",
            "content_sha1": "a33362b5987bc6b7901e0b6837c63c54bed59046",
            "content_sha256": "9b2a3273abf5efd705107a98ffcf64c16c7d174a0375c5ed13b757916acb4c56",
            "content_sha512": "15fcf7da95f31922e5b3baff1becd8ff546dd5b1c1f908d0b22343ffa4a25a70e56a057641e94964a1de2303d530f2d38540b9ca1c9089c98ed13194ef4931de",
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "secrets/cd4e14eb-91df-0bc8-ab44-09cd87cdf6b0/haproxy.cfg",
            "id": "a33362b5987bc6b7901e0b6837c63c54bed59046",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "sensitive_content"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "content"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "filename"
              }
            ]
          ],
          "dependencies": [
            "module.haproxy_secret_volume.random_uuid.secrets_folder",
            "module.haproxy_secret_volume.terraform_data.regenerate_uuid",
            "module.s3_internal_certificate.terraform_data.ttl",
            "module.s3_internal_certificate.vault_pki_secret_backend_cert.certificate_request"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "content": "frontend https\n    bind :443\n    mode tcp\n    option tcplog\n    timeout client 1m\n    tcp-request inspect-delay 5s\n    tcp-request content capture req.ssl_sni len 100\n    log-format \"capture0: %[capture.req.hdr(0)]\"\n    tcp-request content accept if { req_ssl_hello_type 1 }\n\n    acl acl_jenkins req.ssl_sni -i jenkins.zevrant-services.internal\n    use_backend https_jenkins if acl_jenkins\n\n    acl acl_vault req.ssl_sni -i vault.zevrant-services.com\n    use_backend vault if acl_vault\n\n    acl acl_fence-gurus-beta req.ssl_sni -i the-fence-gurus.beta.zevrant-services.com\n    use_backend fence-gurus-beta if acl_fence-gurus-beta\n\n    acl acl_nextcloud req.ssl_sni -i next.zevrant-services.com\n    use_backend nextcloud if acl_nextcloud\n\n    acl acl_s3 req.ssl_sni -i s3.zevrant-services.com\n    use_backend s3 if acl_s3\n\n    acl acl_s3 req.ssl_sni -i s3.zevrant-services.internal\n    use_backend s3 if acl_s3\n\n    acl acl_thefencegurusllc req.ssl_sni -i thefencegurusllc.com\n    use_backend fence-gurus-llc if acl_thefencegurusllc\n\n    acl acl_zevrantServices req.ssl_sni -i zevrant-services.com\n    use_backend zevrant-services if acl_zevrantServices\n\n    acl acl_zevrantServicesBeta req.ssl_sni -i beta.zevrant-services.com\n    use_backend zevrant-services-beta if acl_zevrantServicesBeta\n\nbackend vault\n    mode tcp\n    balance roundrobin\n    timeout connect 5s\n    timeout server 1m\n    server primary 10.1.0.6:8200 check\n\nbackend https_jenkins\n    mode tcp\n    balance roundrobin\n    timeout connect 5s\n    timeout server 1m\n    server primary 10.1.0.3:8443 check\n\nbackend fence-gurus-beta\n    mode tcp\n    balance roundrobin\n    timeout connect 5s\n    timeout server 1m\n    server primary 10.1.0.11:8080\n\nbackend nextcloud\n    mode tcp\n    balance roundrobin\n    timeout connect 5s\n    timeout server 1m\n    server primary 10.0.0.4:443\n\nbackend s3\n    mode tcp\n    balance roundrobin\n    timeout connect 5s\n    timeout server 1m\n    server s3 127.0.0.1:9000\n\nbackend fence-gurus-llc\n    mode tcp\n    balance roundrobin\n    timeout connect 5s\n    timeout server 1m\n    server primary 10.1.0.13:8080\n\nbackend zevrant-services\n    mode tcp\n    balance roundrobin\n    timeout connect 5s\n    timeout server 1m\n    server blue 10.1.0.15:8080\n    server green 10.1.0.16:8080\n\nbackend zevrant-services-beta\n    mode tcp\n    balance roundrobin\n    timeout connect 5s\n    timeout server 1m\n    server primary 10.1.0.14:8080\n\n\n",
            "content_base64": null,
            "content_base64sha256": "KJ5YclpcDs+Yd0oxSFz1MY2TmW++Ydp+gi3R6emt7+k=",
            "content_base64sha512": "yd4bP1jVATRUN5JlbSmz0DeWFRueggHYNhBZvB8h8llcKCPBsyU3S7jr00QQMvyKrvbduHnAuX57HlbxsRyS4A==",
            "content_md5": "095964cc9a6bfc4a0602b3053550ff3b",
            "content_sha1": "bda467badce74c928bb4db7be4f3dd8de87a8139",
            "content_sha256": "289e58725a5c0ecf98774a31485cf5318d93996fbe61da7e822dd1e9e9adefe9",
            "content_sha512": "c9de1b3f58d50134543792656d29b3d03796151b9e8201d8361059bc1f21f2595c2823c1b325374bb8ebd3441032fc8aaef6ddb879c0b97e7b1e56f1b11c92e0",
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "secrets/cd4e14eb-91df-0bc8-ab44-09cd87cdf6b0/conf.d/https-ingress.cfg",
            "id": "bda467badce74c928bb4db7be4f3dd8de87a8139",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "filename"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "sensitive_content"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "content"
              }
            ]
          ],
          "dependencies": [
            "module.haproxy_secret_volume.random_uuid.secrets_folder",
            "module.haproxy_secret_volume.terraform_data.regenerate_uuid",
            "module.s3_internal_certificate.terraform_data.ttl",
            "module.s3_internal_certificate.vault_pki_secret_backend_cert.certificate_request"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 0,
          "attributes": {
            "content": "frontend jenkins\n        bind :80\n        mode http\n        default_backend jenkins\n\nbackend jenkins\n        mode http\n        balance roundrobin\n        server primary 10.1.0.3:8080 check\n        http-request set-header X-Forwarded-Port %[dst_port]\n        http-request add-header X-Forwarded-Proto https if { ssl_fc }\n        http-request set-header X-Forwarded-Host %[req.hdr(Host)]\n",
            "content_base64": null,
            "content_base64sha256": "AfXm/Ft0RFlxCE6bqhXUJQyPVDbi7jMShcsxlibj1sU=",
            "content_base64sha512": "AHnpRcoe/iUrtkxwnV7ltMz+pPhhBhN8Tu+/KMTLFgqDACEB0MECl8JwFnNth4mspxDQv4eunVyFGfc+U2o+Eg==",
            "content_md5": "e04b641414717eda35c337437ac842e6",
            "content_sha1": "ea98fad73402b91a0954b613dcc50b548c8c9995",
            "content_sha256": "01f5e6fc5b74445971084e9baa15d4250c8f5436e2ee331285cb319626e3d6c5",
            "content_sha512": "0079e945ca1efe252bb64c709d5ee5b4ccfea4f86106137c4eefbf28c4cb160a83002101d0c10297c27016736d8789aca710d0bf87ae9d5c8519f73e536a3e12",
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "secrets/cd4e14eb-91df-0bc8-ab44-09cd87cdf6b0/conf.d/jenkins-ingress.cfg",
            "id": "ea98fad73402b91a0954b613dcc50b548c8c9995",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "filename"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "sensitive_content"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "content"
              }
            ]
          ],
          "dependencies": [
            "module.haproxy_secret_volume.random_uuid.secrets_folder",
            "module.haproxy_secret_volume.terraform_data.regenerate_uuid",
            "module.s3_internal_certificate.terraform_data.ttl",
            "module.s3_internal_certificate.vault_pki_secret_backend_cert.certificate_request"
          ]
        },
        {
          "index_key": 3,
          "schema_version": 0,
          "attributes": {
            "content": "frontend s3\n    mode http\n    bind :9000 ssl crt /etc/haproxy/certs/s3.pem\n    option http-server-close\n    option forwardfor\n    http-request add-header X-Forwarded-Proto https\n    http-request add-header X-Forwarded-Port 443\n\n    # set HTTP Strict Transport Security (HTST) header\n    http-response add-header Strict-Transport-Security max-age=15768000\n    default_backend garage\n\n\nbackend garage\n    mode http\n    server garage1 garage1.zevrant-services.internal:443 ssl verify none #verify required ca-file /etc/haproxy/certs/CA.pem\n    server garage2 garage2.zevrant-services.internal:443 ssl verify none #verify required ca-file /etc/haproxy/certs/CA.pem\n    server garage3 garage3.zevrant-services.internal:443 ssl verify none #verify required ca-file /etc/haproxy/certs/CA.pem\n\n\n\n\n\nfrontend s3-metrics\n    bind :9001 ssl crt /etc/haproxy/certs/s3.pem\n    option http-server-close\n    option forwardfor\n#    http-request add-header X-Forwarded-Proto https\n    http-request add-header X-Forwarded-Port 3904\n\n    # set HTTP Strict Transport Security (HTST) header\n    http-response add-header Strict-Transport-Security max-age=15768000\n    default_backend garage-metrics\n\nbackend garage-metrics\n    mode http\n    balance roundrobin\n    server garage1 garage1.zevrant-services.internal:3904\n    server garage2 garage2.zevrant-services.internal:3904\n    server garage3 garage3.zevrant-services.internal:3904\n",
            "content_base64": null,
            "content_base64sha256": "xO4fUjawMUNffaqhjaxFVAUnLXzWjhVeJ1DADFDRQ+A=",
            "content_base64sha512": "iHfIfilw28RlNT6mP8rEzbJr/hSxGGBAQYYneRrLOjlY823YiNHymm4sQLWgR7JLLvHLHQLGm68cd6tfUElUUQ==",
            "content_md5": "2ea53272f61fb3cb1e4325b97c1e9289",
            "content_sha1": "02aa59078fb28d9399cd7326260a7c984dd4017b",
            "content_sha256": "c4ee1f5236b031435f7daaa18dac455405272d7cd68e155e2750c00c50d143e0",
            "content_sha512": "8877c87e2970dbc465353ea63fcac4cdb26bfe14b1186040418627791acb3a3958f36dd888d1f29a6e2c40b5a047b24b2ef1cb1d02c69baf1c77ab5f50495451",
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "secrets/cd4e14eb-91df-0bc8-ab44-09cd87cdf6b0/conf.d/garage.cfg",
            "id": "02aa59078fb28d9399cd7326260a7c984dd4017b",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "content"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "filename"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "sensitive_content"
              }
            ]
          ],
          "dependencies": [
            "module.haproxy_secret_volume.random_uuid.secrets_folder",
            "module.haproxy_secret_volume.terraform_data.regenerate_uuid",
            "module.s3_internal_certificate.terraform_data.ttl",
            "module.s3_internal_certificate.vault_pki_secret_backend_cert.certificate_request"
          ]
        },
        {
          "index_key": 4,
          "schema_version": 0,
          "attributes": {
            "content": "-----BEGIN EC PRIVATE KEY-----\nMIGkAgEBBDCHrf5uOaDAXe0rNt7kGf3tWvOx51MduCCIUINOKrZjJhNiQ15/qNjJ\nQSF1iFFzqSCgBwYFK4EEACKhZANiAATRpNXs1KonFagzS40PxTByG2nB1RcMeV9b\ngICdAtdQLNL9WpcoKCvZ4gwHb9KYNTgnqT+quEDus0GaWS0NE6CE1Foc2s+QFWs+\naEFHofwsFossM5KUuG2hOQi5Inf4858=\n-----END EC PRIVATE KEY-----\n-----BEGIN CERTIFICATE-----\nMIICJzCCAaygAwIBAgIUISbNK0M+VBnZWdi11I7ZcdoXu78wCgYIKoZIzj0EAwMw\nJDEiMCAGA1UEAxMZemV2cmFudC1zZXJ2aWNlcy5pbnRlcm5hbDAeFw0yNTA1MTIx\nMzQ0MjBaFw0yNTA1MjYxMzQ0NTBaMCcxJTAjBgNVBAMTHHMzLnpldnJhbnQtc2Vy\ndmljZXMuaW50ZXJuYWwwdjAQBgcqhkjOPQIBBgUrgQQAIgNiAATRpNXs1KonFagz\nS40PxTByG2nB1RcMeV9bgICdAtdQLNL9WpcoKCvZ4gwHb9KYNTgnqT+quEDus0Ga\nWS0NE6CE1Foc2s+QFWs+aEFHofwsFossM5KUuG2hOQi5Inf485+jgZswgZgwDgYD\nVR0PAQH/BAQDAgOoMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAdBgNV\nHQ4EFgQUhuJ5tOFm/6Lz92YWyvwWB6LuTO0wHwYDVR0jBBgwFoAU7ktOgI5FcTSU\nhZV37o7TMfq9yjEwJwYDVR0RBCAwHoIcczMuemV2cmFudC1zZXJ2aWNlcy5pbnRl\ncm5hbDAKBggqhkjOPQQDAwNpADBmAjEAgncnNNeDJRpDBZw23P8iHKD/nOkoBeYh\nrEPLwwXA7Oknp+8m90Io65esxzIvvuRZAjEAynqq/HY3b4MkCvAUDe5aWdgX1Pvv\njzRDK0+6vS7WGl6h7J4fiwQt20hJIGIEegO/\n-----END CERTIFICATE-----\n-----BEGIN CERTIFICATE-----\nMIICnTCCAiSgAwIBAgIUavTv9A1IIaaoHAEj90e8uJUOoF8wCgYIKoZIzj0EAwMw\nJDEiMCAGA1UEAxMZemV2cmFudC1zZXJ2aWNlcy5pbnRlcm5hbDAeFw0yNTAxMTYw\nMTM2MjFaFw0zMDAxMTUwMTM2NTFaMCQxIjAgBgNVBAMTGXpldnJhbnQtc2Vydmlj\nZXMuaW50ZXJuYWwwdjAQBgcqhkjOPQIBBgUrgQQAIgNiAASyVJimopcof12pSKcq\nieReX/rgZNmUEk0vzAPGbrvfwyYwGd3vXIsnyNoqkdljcAmRYUb8ltRs1Yfm5bfO\nSUvkDIe1yvRpfcH92zqQxp0mg1h9lez+iADi50BZgCr7OyWjggEVMIIBETAOBgNV\nHQ8BAf8EBAMCAQYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQU7ktOgI5FcTSU\nhZV37o7TMfq9yjEwHwYDVR0jBBgwFoAUe9aP9qQkIgFylinNFVdxD8KbQ4swSAYI\nKwYBBQUHAQEEPDA6MDgGCCsGAQUFBzAChixodHRwczovL3ZhdWx0LnpldnJhbnQt\nc2VydmljZXMuY29tL3YxL3BraS9jYTAkBgNVHREEHTAbghl6ZXZyYW50LXNlcnZp\nY2VzLmludGVybmFsMD4GA1UdHwQ3MDUwM6AxoC+GLWh0dHBzOi8vdmF1bHQuemV2\ncmFudC1zZXJ2aWNlcy5jb20vdjEvcGtpL2NybDAKBggqhkjOPQQDAwNnADBkAjAj\nOObVQEsD6yRiJgZNxJ3qmELGliB95kA6ea8bYaJGy8QXU2fVFEutW6X230MPRucC\nMF/wBWmKd5qhNBSLDe9E503ilU/K0QxlbWUuMqOIeNYRcMzBSvQLT4nbZfiaT05f\nSQ==\n-----END CERTIFICATE-----\n-----BEGIN CERTIFICATE-----\nMIICnzCCAiSgAwIBAgIUPZa4yl9/sRCFe2sWnoFACjt3C6QwCgYIKoZIzj0EAwMw\nJDEiMCAGA1UEAxMZemV2cmFudC1zZXJ2aWNlcy5pbnRlcm5hbDAeFw0yNTAxMTYw\nMTM2MjFaFw0zNTAxMTQwMTM2NTFaMCQxIjAgBgNVBAMTGXpldnJhbnQtc2Vydmlj\nZXMuaW50ZXJuYWwwdjAQBgcqhkjOPQIBBgUrgQQAIgNiAASwDruXv2KH1i9hVZZ1\nxaQaWZfcgEdZzvBPmvQ8sDvAQxDvvDudk+mHdItkJbm0NQvNilEc5MoN8Jh1LBCe\nEQnz3Y1Y1QYx3l+Kz0lXXJU5RyZ0JuXp9n6D+YtXCmiCKG6jggEVMIIBETAOBgNV\nHQ8BAf8EBAMCAQYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUe9aP9qQkIgFy\nlinNFVdxD8KbQ4swHwYDVR0jBBgwFoAUe9aP9qQkIgFylinNFVdxD8KbQ4swSAYI\nKwYBBQUHAQEEPDA6MDgGCCsGAQUFBzAChixodHRwczovL3ZhdWx0LnpldnJhbnQt\nc2VydmljZXMuY29tL3YxL3BraS9jYTAkBgNVHREEHTAbghl6ZXZyYW50LXNlcnZp\nY2VzLmludGVybmFsMD4GA1UdHwQ3MDUwM6AxoC+GLWh0dHBzOi8vdmF1bHQuemV2\ncmFudC1zZXJ2aWNlcy5jb20vdjEvcGtpL2NybDAKBggqhkjOPQQDAwNpADBmAjEA\nj90H3jyO19g3pI8f3q0pb27gC+hi8VYNSTj6ifLbwcmCgtgrXLjxlOVEE+oQcOfc\nAjEAjsRsNJGBsyKGIZhC/i3hukR68jGofhmt8piEfjaOk4K4PZif+/y7xeDx5iwY\nLRa6\n-----END CERTIFICATE-----\n",
            "content_base64": null,
            "content_base64sha256": "9UJVKSxMhj5RfEQGTNbe4KKJcXkG0u0DYt3CoHR7ato=",
            "content_base64sha512": "PuDK/4zcDZt5toRbpO5BtciVy04W/ClAcPjshAz9PYnzswNYg3uzJ5gLOpgclz78Ic84m37fiRTP7OV55iuKqg==",
            "content_md5": "c9e944234f1b0c5052ea28b4e9235d6b",
            "content_sha1": "457d428ca683d88a75b01581b8a7cb3c7c156f4e",
            "content_sha256": "f54255292c4c863e517c44064cd6dee0a289717906d2ed0362ddc2a0747b6ada",
            "content_sha512": "3ee0caff8cdc0d9b79b6845ba4ee41b5c895cb4e16fc294070f8ec840cfd3d89f3b30358837bb327980b3a981c973efc21cf389b7edf8914cfece579e62b8aaa",
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "secrets/cd4e14eb-91df-0bc8-ab44-09cd87cdf6b0/certs/s3.pem",
            "id": "457d428ca683d88a75b01581b8a7cb3c7c156f4e",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "sensitive_content"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "filename"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "content"
              }
            ]
          ],
          "dependencies": [
            "module.haproxy_secret_volume.random_uuid.secrets_folder",
            "module.haproxy_secret_volume.terraform_data.regenerate_uuid",
            "module.s3_internal_certificate.terraform_data.ttl",
            "module.s3_internal_certificate.vault_pki_secret_backend_cert.certificate_request"
          ]
        },
        {
          "index_key": 5,
          "schema_version": 0,
          "attributes": {
            "content": "-----BEGIN CERTIFICATE-----\nMIICnzCCAiSgAwIBAgIUPZa4yl9/sRCFe2sWnoFACjt3C6QwCgYIKoZIzj0EAwMw\nJDEiMCAGA1UEAxMZemV2cmFudC1zZXJ2aWNlcy5pbnRlcm5hbDAeFw0yNTAxMTYw\nMTM2MjFaFw0zNTAxMTQwMTM2NTFaMCQxIjAgBgNVBAMTGXpldnJhbnQtc2Vydmlj\nZXMuaW50ZXJuYWwwdjAQBgcqhkjOPQIBBgUrgQQAIgNiAASwDruXv2KH1i9hVZZ1\nxaQaWZfcgEdZzvBPmvQ8sDvAQxDvvDudk+mHdItkJbm0NQvNilEc5MoN8Jh1LBCe\nEQnz3Y1Y1QYx3l+Kz0lXXJU5RyZ0JuXp9n6D+YtXCmiCKG6jggEVMIIBETAOBgNV\nHQ8BAf8EBAMCAQYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUe9aP9qQkIgFy\nlinNFVdxD8KbQ4swHwYDVR0jBBgwFoAUe9aP9qQkIgFylinNFVdxD8KbQ4swSAYI\nKwYBBQUHAQEEPDA6MDgGCCsGAQUFBzAChixodHRwczovL3ZhdWx0LnpldnJhbnQt\nc2VydmljZXMuY29tL3YxL3BraS9jYTAkBgNVHREEHTAbghl6ZXZyYW50LXNlcnZp\nY2VzLmludGVybmFsMD4GA1UdHwQ3MDUwM6AxoC+GLWh0dHBzOi8vdmF1bHQuemV2\ncmFudC1zZXJ2aWNlcy5jb20vdjEvcGtpL2NybDAKBggqhkjOPQQDAwNpADBmAjEA\nj90H3jyO19g3pI8f3q0pb27gC+hi8VYNSTj6ifLbwcmCgtgrXLjxlOVEE+oQcOfc\nAjEAjsRsNJGBsyKGIZhC/i3hukR68jGofhmt8piEfjaOk4K4PZif+/y7xeDx5iwY\nLRa6\n-----END CERTIFICATE-----\n",
            "content_base64": null,
            "content_base64sha256": "dHN9RZA5gt0UlgRTM82QSC6HOJaLXhXotOfca7qL0yo=",
            "content_base64sha512": "UFG7Iszf0UFwnPPgO2V5lsf5+4jhecn4iy/HrQrz9+ThwDMIZByjzPeNF5KPKWyfBQCQ8WoaRA98XBXV/k/LSw==",
            "content_md5": "d1ff1e4fff0be9c24eb8042c4f7c839b",
            "content_sha1": "c60fec5d6545afee9a2ae978be10379f84c84d6b",
            "content_sha256": "74737d45903982dd1496045333cd90482e8738968b5e15e8b4e7dc6bba8bd32a",
            "content_sha512": "5051bb22ccdfd141709cf3e03b657996c7f9fb88e179c9f88b2fc7ad0af3f7e4e1c03308641ca3ccf78d17928f296c9f050090f16a1a440f7c5c15d5fe4fcb4b",
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "secrets/cd4e14eb-91df-0bc8-ab44-09cd87cdf6b0/certs/CA.pem",
            "id": "c60fec5d6545afee9a2ae978be10379f84c84d6b",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "content"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "filename"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "sensitive_content"
              }
            ]
          ],
          "dependencies": [
            "module.haproxy_secret_volume.random_uuid.secrets_folder",
            "module.haproxy_secret_volume.terraform_data.regenerate_uuid",
            "module.s3_internal_certificate.terraform_data.ttl",
            "module.s3_internal_certificate.vault_pki_secret_backend_cert.certificate_request"
          ]
        },
        {
          "index_key": 6,
          "schema_version": 0,
          "attributes": {
            "content": "{\n  \"ports\": [\n    {\n      \"port\": 80\n      \"protocol\": \"tcp\"\n    },\n    {\n      \"port\": 443\n      \"protocol\": \"tcp\"\n    },\n    {\n      \"port\": 8080\n      \"protocol\": \"tcp\"\n    },\n    {\n      \"port\": 9000\n      \"protocol\": \"tcp\"\n    },\n    {\n      \"port\": 9001\n      \"protocol\": \"tcp\"\n    }\n\n  ]\n}\n",
            "content_base64": null,
            "content_base64sha256": "Bc3FRc/M7aWzFrlurAaUjAzQomgBaEeVe7H0UWW8lko=",
            "content_base64sha512": "ofBoGKIc9F6Pp+3eYr5a+p+0viwmh9lpkvj5nwg4zSLJcJfCpduV6idKCUjytyRdF4TN63u9I+YLi68HTYgx4Q==",
            "content_md5": "458a5d21425322712b60286f2817f592",
            "content_sha1": "68bfcd68d800aa5178febf5ad49251e8ce124f24",
            "content_sha256": "05cdc545cfcceda5b316b96eac06948c0cd0a268016847957bb1f45165bc964a",
            "content_sha512": "a1f06818a21cf45e8fa7edde62be5afa9fb4be2c2687d96992f8f99f0838cd22c97097c2a5db95ea274a0948f2b7245d1784cdeb7bbd23e60b8baf074d8831e1",
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "secrets/cd4e14eb-91df-0bc8-ab44-09cd87cdf6b0/vm-config.json",
            "id": "68bfcd68d800aa5178febf5ad49251e8ce124f24",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "content"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "filename"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "sensitive_content"
              }
            ]
          ],
          "dependencies": [
            "module.haproxy_secret_volume.random_uuid.secrets_folder",
            "module.haproxy_secret_volume.terraform_data.regenerate_uuid",
            "module.s3_internal_certificate.terraform_data.ttl",
            "module.s3_internal_certificate.vault_pki_secret_backend_cert.certificate_request"
          ]
        }
      ]
    },
    {
      "module": "module.haproxy_secret_volume",
      "mode": "managed",
      "type": "null_resource",
      "name": "secret_volume",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "7109649586948778918",
            "triggers": {
              "secretValues": "Ffz32pXzGSLls7r/G+zY/1Rt1bHB+QjQsiND/6SiWnDlagV2QelJZKHeIwPVMPLThUC5yhyQicmO0TGU70kx3g==yd4bP1jVATRUN5JlbSmz0DeWFRueggHYNhBZvB8h8llcKCPBsyU3S7jr00QQMvyKrvbduHnAuX57HlbxsRyS4A==AHnpRcoe/iUrtkxwnV7ltMz+pPhhBhN8Tu+/KMTLFgqDACEB0MECl8JwFnNth4mspxDQv4eunVyFGfc+U2o+Eg==iHfIfilw28RlNT6mP8rEzbJr/hSxGGBAQYYneRrLOjlY823YiNHymm4sQLWgR7JLLvHLHQLGm68cd6tfUElUUQ==PuDK/4zcDZt5toRbpO5BtciVy04W/ClAcPjshAz9PYnzswNYg3uzJ5gLOpgclz78Ic84m37fiRTP7OV55iuKqg==UFG7Iszf0UFwnPPgO2V5lsf5+4jhecn4iy/HrQrz9+ThwDMIZByjzPeNF5KPKWyfBQCQ8WoaRA98XBXV/k/LSw==ofBoGKIc9F6Pp+3eYr5a+p+0viwmh9lpkvj5nwg4zSLJcJfCpduV6idKCUjytyRdF4TN63u9I+YLi68HTYgx4Q==",
              "uuids": "cd4e14eb-91df-0bc8-ab44-09cd87cdf6b0"
            }
          },
          "sensitive_attributes": [],
          "dependencies": [
            "module.haproxy_secret_volume.local_file.secret_files",
            "module.haproxy_secret_volume.random_uuid.secrets_folder",
            "module.haproxy_secret_volume.terraform_data.regenerate_uuid",
            "module.s3_internal_certificate.terraform_data.ttl",
            "module.s3_internal_certificate.vault_pki_secret_backend_cert.certificate_request"
          ]
        }
      ]
    },
    {
      "module": "module.haproxy_secret_volume",
      "mode": "managed",
      "type": "random_uuid",
      "name": "secrets_folder",
      "provider": "provider[\"registry.terraform.io/hashicorp/random\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "cd4e14eb-91df-0bc8-ab44-09cd87cdf6b0",
            "keepers": null,
            "result": "cd4e14eb-91df-0bc8-ab44-09cd87cdf6b0"
          },
          "sensitive_attributes": [],
          "dependencies": [
            "module.haproxy_secret_volume.terraform_data.regenerate_uuid",
            "module.s3_internal_certificate.terraform_data.ttl",
            "module.s3_internal_certificate.vault_pki_secret_backend_cert.certificate_request"
          ]
        }
      ]
    },
    {
      "module": "module.haproxy_secret_volume",
      "mode": "managed",
      "type": "terraform_data",
      "name": "regenerate_uuid",
      "provider": "provider[\"terraform.io/builtin/terraform\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "5f35c9ed-71ee-e768-30d6-24725cfde0a8",
            "input": {
              "value": [
                {
                  "filename": "haproxy.cfg",
                  "value": "#---------------------------------------------------------------------\n# Example configuration for a possible web application.  See the\n# full configuration options online.\n#\n#   https://www.haproxy.org/download/1.8/doc/configuration.txt\n#\n#---------------------------------------------------------------------\n\n#---------------------------------------------------------------------\n# Global settings\n#---------------------------------------------------------------------\nglobal\n    # to have these messages end up in /var/log/haproxy.log you will\n    # need to:\n    #\n    # 1) configure syslog to accept network log events.  This is done\n    #    by adding the '-r' option to the SYSLOGD_OPTIONS in\n    #    /etc/sysconfig/syslog\n    #\n    # 2) configure local2 events to go to the /var/log/haproxy.log\n    #   file. A line like the following can be added to\n    #   /etc/sysconfig/syslog\n    #\n    #    local2.*                       /var/log/haproxy.log\n    #\n    log stdout local0\n    chroot      /var/lib/haproxy\n    pidfile     /var/run/haproxy.pid\n    maxconn     4000\n    user        haproxy\n    group       haproxy\n    daemon\n\n# turn on stats unix socket\nstats socket /var/lib/haproxy/stats\n\n# utilize system-wide crypto-policies\nssl-default-bind-ciphers PROFILE=SYSTEM\nssl-default-server-ciphers PROFILE=SYSTEM\n\n\n#---------------------------------------------------------------------\n# common defaults that all the 'listen' and 'backend' sections will\n# use if not designated in their block\n#---------------------------------------------------------------------\ndefaults\nmode                    http\nlog                     global\noption                  httplog\noption                  dontlognull\noption http-server-close\noption                  redispatch\nretries                 3\ntimeout http-request    10s\ntimeout queue           1m\ntimeout connect         10s\ntimeout client          1m\ntimeout server          1m\ntimeout http-keep-alive 10s\ntimeout check           10s\nmaxconn                 3000\n"
                },
                {
                  "filename": "conf.d/https-ingress.cfg",
                  "value": "frontend https\n    bind :443\n    mode tcp\n    option tcplog\n    timeout client 1m\n    tcp-request inspect-delay 5s\n    tcp-request content capture req.ssl_sni len 100\n    log-format \"capture0: %[capture.req.hdr(0)]\"\n    tcp-request content accept if { req_ssl_hello_type 1 }\n\n    acl acl_jenkins req.ssl_sni -i jenkins.zevrant-services.internal\n    use_backend https_jenkins if acl_jenkins\n\n    acl acl_vault req.ssl_sni -i vault.zevrant-services.com\n    use_backend vault if acl_vault\n\n    acl acl_fence-gurus-beta req.ssl_sni -i the-fence-gurus.beta.zevrant-services.com\n    use_backend fence-gurus-beta if acl_fence-gurus-beta\n\n    acl acl_nextcloud req.ssl_sni -i next.zevrant-services.com\n    use_backend nextcloud if acl_nextcloud\n\n    acl acl_s3 req.ssl_sni -i s3.zevrant-services.com\n    use_backend s3 if acl_s3\n\n    acl acl_s3 req.ssl_sni -i s3.zevrant-services.internal\n    use_backend s3 if acl_s3\n\n    acl acl_thefencegurusllc req.ssl_sni -i thefencegurusllc.com\n    use_backend fence-gurus-llc if acl_thefencegurusllc\n\n    acl acl_zevrantServices req.ssl_sni -i zevrant-services.com\n    use_backend zevrant-services if acl_zevrantServices\n\n    acl acl_zevrantServicesBeta req.ssl_sni -i beta.zevrant-services.com\n    use_backend zevrant-services-beta if acl_zevrantServicesBeta\n\nbackend vault\n    mode tcp\n    balance roundrobin\n    timeout connect 5s\n    timeout server 1m\n    server primary 10.1.0.6:8200 check\n\nbackend https_jenkins\n    mode tcp\n    balance roundrobin\n    timeout connect 5s\n    timeout server 1m\n    server primary 10.1.0.3:8443 check\n\nbackend fence-gurus-beta\n    mode tcp\n    balance roundrobin\n    timeout connect 5s\n    timeout server 1m\n    server primary 10.1.0.11:8080\n\nbackend nextcloud\n    mode tcp\n    balance roundrobin\n    timeout connect 5s\n    timeout server 1m\n    server primary 10.0.0.4:443\n\nbackend s3\n    mode tcp\n    balance roundrobin\n    timeout connect 5s\n    timeout server 1m\n    server s3 127.0.0.1:9000\n\nbackend fence-gurus-llc\n    mode tcp\n    balance roundrobin\n    timeout connect 5s\n    timeout server 1m\n    server primary 10.1.0.13:8080\n\nbackend zevrant-services\n    mode tcp\n    balance roundrobin\n    timeout connect 5s\n    timeout server 1m\n    server blue 10.1.0.15:8080\n    server green 10.1.0.16:8080\n\nbackend zevrant-services-beta\n    mode tcp\n    balance roundrobin\n    timeout connect 5s\n    timeout server 1m\n    server primary 10.1.0.14:8080\n\n\n"
                },
                {
                  "filename": "conf.d/jenkins-ingress.cfg",
                  "value": "frontend jenkins\n        bind :80\n        mode http\n        default_backend jenkins\n\nbackend jenkins\n        mode http\n        balance roundrobin\n        server primary 10.1.0.3:8080 check\n        http-request set-header X-Forwarded-Port %[dst_port]\n        http-request add-header X-Forwarded-Proto https if { ssl_fc }\n        http-request set-header X-Forwarded-Host %[req.hdr(Host)]\n"
                },
                {
                  "filename": "conf.d/garage.cfg",
                  "value": "frontend s3\n    mode http\n    bind :9000 ssl crt /etc/haproxy/certs/s3.pem\n    option http-server-close\n    option forwardfor\n    http-request add-header X-Forwarded-Proto https\n    http-request add-header X-Forwarded-Port 443\n\n    # set HTTP Strict Transport Security (HTST) header\n    http-response add-header Strict-Transport-Security max-age=15768000\n    default_backend garage\n\n\nbackend garage\n    mode http\n    server garage1 garage1.zevrant-services.internal:443 ssl verify none #verify required ca-file /etc/haproxy/certs/CA.pem\n    server garage2 garage2.zevrant-services.internal:443 ssl verify none #verify required ca-file /etc/haproxy/certs/CA.pem\n    server garage3 garage3.zevrant-services.internal:443 ssl verify none #verify required ca-file /etc/haproxy/certs/CA.pem\n\n\n\n\n\nfrontend s3-metrics\n    bind :9001 ssl crt /etc/haproxy/certs/s3.pem\n    option http-server-close\n    option forwardfor\n#    http-request add-header X-Forwarded-Proto https\n    http-request add-header X-Forwarded-Port 3904\n\n    # set HTTP Strict Transport Security (HTST) header\n    http-response add-header Strict-Transport-Security max-age=15768000\n    default_backend garage-metrics\n\nbackend garage-metrics\n    mode http\n    balance roundrobin\n    server garage1 garage1.zevrant-services.internal:3904\n    server garage2 garage2.zevrant-services.internal:3904\n    server garage3 garage3.zevrant-services.internal:3904\n"
                },
                {
                  "filename": "certs/s3.pem",
                  "value": "-----BEGIN EC PRIVATE KEY-----\nMIGkAgEBBDCHrf5uOaDAXe0rNt7kGf3tWvOx51MduCCIUINOKrZjJhNiQ15/qNjJ\nQSF1iFFzqSCgBwYFK4EEACKhZANiAATRpNXs1KonFagzS40PxTByG2nB1RcMeV9b\ngICdAtdQLNL9WpcoKCvZ4gwHb9KYNTgnqT+quEDus0GaWS0NE6CE1Foc2s+QFWs+\naEFHofwsFossM5KUuG2hOQi5Inf4858=\n-----END EC PRIVATE KEY-----\n-----BEGIN CERTIFICATE-----\nMIICJzCCAaygAwIBAgIUISbNK0M+VBnZWdi11I7ZcdoXu78wCgYIKoZIzj0EAwMw\nJDEiMCAGA1UEAxMZemV2cmFudC1zZXJ2aWNlcy5pbnRlcm5hbDAeFw0yNTA1MTIx\nMzQ0MjBaFw0yNTA1MjYxMzQ0NTBaMCcxJTAjBgNVBAMTHHMzLnpldnJhbnQtc2Vy\ndmljZXMuaW50ZXJuYWwwdjAQBgcqhkjOPQIBBgUrgQQAIgNiAATRpNXs1KonFagz\nS40PxTByG2nB1RcMeV9bgICdAtdQLNL9WpcoKCvZ4gwHb9KYNTgnqT+quEDus0Ga\nWS0NE6CE1Foc2s+QFWs+aEFHofwsFossM5KUuG2hOQi5Inf485+jgZswgZgwDgYD\nVR0PAQH/BAQDAgOoMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAdBgNV\nHQ4EFgQUhuJ5tOFm/6Lz92YWyvwWB6LuTO0wHwYDVR0jBBgwFoAU7ktOgI5FcTSU\nhZV37o7TMfq9yjEwJwYDVR0RBCAwHoIcczMuemV2cmFudC1zZXJ2aWNlcy5pbnRl\ncm5hbDAKBggqhkjOPQQDAwNpADBmAjEAgncnNNeDJRpDBZw23P8iHKD/nOkoBeYh\nrEPLwwXA7Oknp+8m90Io65esxzIvvuRZAjEAynqq/HY3b4MkCvAUDe5aWdgX1Pvv\njzRDK0+6vS7WGl6h7J4fiwQt20hJIGIEegO/\n-----END CERTIFICATE-----\n-----BEGIN CERTIFICATE-----\nMIICnTCCAiSgAwIBAgIUavTv9A1IIaaoHAEj90e8uJUOoF8wCgYIKoZIzj0EAwMw\nJDEiMCAGA1UEAxMZemV2cmFudC1zZXJ2aWNlcy5pbnRlcm5hbDAeFw0yNTAxMTYw\nMTM2MjFaFw0zMDAxMTUwMTM2NTFaMCQxIjAgBgNVBAMTGXpldnJhbnQtc2Vydmlj\nZXMuaW50ZXJuYWwwdjAQBgcqhkjOPQIBBgUrgQQAIgNiAASyVJimopcof12pSKcq\nieReX/rgZNmUEk0vzAPGbrvfwyYwGd3vXIsnyNoqkdljcAmRYUb8ltRs1Yfm5bfO\nSUvkDIe1yvRpfcH92zqQxp0mg1h9lez+iADi50BZgCr7OyWjggEVMIIBETAOBgNV\nHQ8BAf8EBAMCAQYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQU7ktOgI5FcTSU\nhZV37o7TMfq9yjEwHwYDVR0jBBgwFoAUe9aP9qQkIgFylinNFVdxD8KbQ4swSAYI\nKwYBBQUHAQEEPDA6MDgGCCsGAQUFBzAChixodHRwczovL3ZhdWx0LnpldnJhbnQt\nc2VydmljZXMuY29tL3YxL3BraS9jYTAkBgNVHREEHTAbghl6ZXZyYW50LXNlcnZp\nY2VzLmludGVybmFsMD4GA1UdHwQ3MDUwM6AxoC+GLWh0dHBzOi8vdmF1bHQuemV2\ncmFudC1zZXJ2aWNlcy5jb20vdjEvcGtpL2NybDAKBggqhkjOPQQDAwNnADBkAjAj\nOObVQEsD6yRiJgZNxJ3qmELGliB95kA6ea8bYaJGy8QXU2fVFEutW6X230MPRucC\nMF/wBWmKd5qhNBSLDe9E503ilU/K0QxlbWUuMqOIeNYRcMzBSvQLT4nbZfiaT05f\nSQ==\n-----END CERTIFICATE-----\n-----BEGIN CERTIFICATE-----\nMIICnzCCAiSgAwIBAgIUPZa4yl9/sRCFe2sWnoFACjt3C6QwCgYIKoZIzj0EAwMw\nJDEiMCAGA1UEAxMZemV2cmFudC1zZXJ2aWNlcy5pbnRlcm5hbDAeFw0yNTAxMTYw\nMTM2MjFaFw0zNTAxMTQwMTM2NTFaMCQxIjAgBgNVBAMTGXpldnJhbnQtc2Vydmlj\nZXMuaW50ZXJuYWwwdjAQBgcqhkjOPQIBBgUrgQQAIgNiAASwDruXv2KH1i9hVZZ1\nxaQaWZfcgEdZzvBPmvQ8sDvAQxDvvDudk+mHdItkJbm0NQvNilEc5MoN8Jh1LBCe\nEQnz3Y1Y1QYx3l+Kz0lXXJU5RyZ0JuXp9n6D+YtXCmiCKG6jggEVMIIBETAOBgNV\nHQ8BAf8EBAMCAQYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUe9aP9qQkIgFy\nlinNFVdxD8KbQ4swHwYDVR0jBBgwFoAUe9aP9qQkIgFylinNFVdxD8KbQ4swSAYI\nKwYBBQUHAQEEPDA6MDgGCCsGAQUFBzAChixodHRwczovL3ZhdWx0LnpldnJhbnQt\nc2VydmljZXMuY29tL3YxL3BraS9jYTAkBgNVHREEHTAbghl6ZXZyYW50LXNlcnZp\nY2VzLmludGVybmFsMD4GA1UdHwQ3MDUwM6AxoC+GLWh0dHBzOi8vdmF1bHQuemV2\ncmFudC1zZXJ2aWNlcy5jb20vdjEvcGtpL2NybDAKBggqhkjOPQQDAwNpADBmAjEA\nj90H3jyO19g3pI8f3q0pb27gC+hi8VYNSTj6ifLbwcmCgtgrXLjxlOVEE+oQcOfc\nAjEAjsRsNJGBsyKGIZhC/i3hukR68jGofhmt8piEfjaOk4K4PZif+/y7xeDx5iwY\nLRa6\n-----END CERTIFICATE-----\n"
                },
                {
                  "filename": "certs/CA.pem",
                  "value": "-----BEGIN CERTIFICATE-----\nMIICnzCCAiSgAwIBAgIUPZa4yl9/sRCFe2sWnoFACjt3C6QwCgYIKoZIzj0EAwMw\nJDEiMCAGA1UEAxMZemV2cmFudC1zZXJ2aWNlcy5pbnRlcm5hbDAeFw0yNTAxMTYw\nMTM2MjFaFw0zNTAxMTQwMTM2NTFaMCQxIjAgBgNVBAMTGXpldnJhbnQtc2Vydmlj\nZXMuaW50ZXJuYWwwdjAQBgcqhkjOPQIBBgUrgQQAIgNiAASwDruXv2KH1i9hVZZ1\nxaQaWZfcgEdZzvBPmvQ8sDvAQxDvvDudk+mHdItkJbm0NQvNilEc5MoN8Jh1LBCe\nEQnz3Y1Y1QYx3l+Kz0lXXJU5RyZ0JuXp9n6D+YtXCmiCKG6jggEVMIIBETAOBgNV\nHQ8BAf8EBAMCAQYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUe9aP9qQkIgFy\nlinNFVdxD8KbQ4swHwYDVR0jBBgwFoAUe9aP9qQkIgFylinNFVdxD8KbQ4swSAYI\nKwYBBQUHAQEEPDA6MDgGCCsGAQUFBzAChixodHRwczovL3ZhdWx0LnpldnJhbnQt\nc2VydmljZXMuY29tL3YxL3BraS9jYTAkBgNVHREEHTAbghl6ZXZyYW50LXNlcnZp\nY2VzLmludGVybmFsMD4GA1UdHwQ3MDUwM6AxoC+GLWh0dHBzOi8vdmF1bHQuemV2\ncmFudC1zZXJ2aWNlcy5jb20vdjEvcGtpL2NybDAKBggqhkjOPQQDAwNpADBmAjEA\nj90H3jyO19g3pI8f3q0pb27gC+hi8VYNSTj6ifLbwcmCgtgrXLjxlOVEE+oQcOfc\nAjEAjsRsNJGBsyKGIZhC/i3hukR68jGofhmt8piEfjaOk4K4PZif+/y7xeDx5iwY\nLRa6\n-----END CERTIFICATE-----\n"
                },
                {
                  "filename": "vm-config.json",
                  "value": "{\n  \"ports\": [\n    {\n      \"port\": 80\n      \"protocol\": \"tcp\"\n    },\n    {\n      \"port\": 443\n      \"protocol\": \"tcp\"\n    },\n    {\n      \"port\": 8080\n      \"protocol\": \"tcp\"\n    },\n    {\n      \"port\": 9000\n      \"protocol\": \"tcp\"\n    },\n    {\n      \"port\": 9001\n      \"protocol\": \"tcp\"\n    }\n\n  ]\n}\n"
                }
              ],
              "type": [
                "list",
                [
                  "object",
                  {
                    "filename": "string",
                    "value": "string"
                  }
                ]
              ]
            },
            "output": {
              "value": [
                {
                  "filename": "haproxy.cfg",
                  "value": "#---------------------------------------------------------------------\n# Example configuration for a possible web application.  See the\n# full configuration options online.\n#\n#   https://www.haproxy.org/download/1.8/doc/configuration.txt\n#\n#---------------------------------------------------------------------\n\n#---------------------------------------------------------------------\n# Global settings\n#---------------------------------------------------------------------\nglobal\n    # to have these messages end up in /var/log/haproxy.log you will\n    # need to:\n    #\n    # 1) configure syslog to accept network log events.  This is done\n    #    by adding the '-r' option to the SYSLOGD_OPTIONS in\n    #    /etc/sysconfig/syslog\n    #\n    # 2) configure local2 events to go to the /var/log/haproxy.log\n    #   file. A line like the following can be added to\n    #   /etc/sysconfig/syslog\n    #\n    #    local2.*                       /var/log/haproxy.log\n    #\n    log stdout local0\n    chroot      /var/lib/haproxy\n    pidfile     /var/run/haproxy.pid\n    maxconn     4000\n    user        haproxy\n    group       haproxy\n    daemon\n\n# turn on stats unix socket\nstats socket /var/lib/haproxy/stats\n\n# utilize system-wide crypto-policies\nssl-default-bind-ciphers PROFILE=SYSTEM\nssl-default-server-ciphers PROFILE=SYSTEM\n\n\n#---------------------------------------------------------------------\n# common defaults that all the 'listen' and 'backend' sections will\n# use if not designated in their block\n#---------------------------------------------------------------------\ndefaults\nmode                    http\nlog                     global\noption                  httplog\noption                  dontlognull\noption http-server-close\noption                  redispatch\nretries                 3\ntimeout http-request    10s\ntimeout queue           1m\ntimeout connect         10s\ntimeout client          1m\ntimeout server          1m\ntimeout http-keep-alive 10s\ntimeout check           10s\nmaxconn                 3000\n"
                },
                {
                  "filename": "conf.d/https-ingress.cfg",
                  "value": "frontend https\n    bind :443\n    mode tcp\n    option tcplog\n    timeout client 1m\n    tcp-request inspect-delay 5s\n    tcp-request content capture req.ssl_sni len 100\n    log-format \"capture0: %[capture.req.hdr(0)]\"\n    tcp-request content accept if { req_ssl_hello_type 1 }\n\n    acl acl_jenkins req.ssl_sni -i jenkins.zevrant-services.internal\n    use_backend https_jenkins if acl_jenkins\n\n    acl acl_vault req.ssl_sni -i vault.zevrant-services.com\n    use_backend vault if acl_vault\n\n    acl acl_fence-gurus-beta req.ssl_sni -i the-fence-gurus.beta.zevrant-services.com\n    use_backend fence-gurus-beta if acl_fence-gurus-beta\n\n    acl acl_nextcloud req.ssl_sni -i next.zevrant-services.com\n    use_backend nextcloud if acl_nextcloud\n\n    acl acl_s3 req.ssl_sni -i s3.zevrant-services.com\n    use_backend s3 if acl_s3\n\n    acl acl_s3 req.ssl_sni -i s3.zevrant-services.internal\n    use_backend s3 if acl_s3\n\n    acl acl_thefencegurusllc req.ssl_sni -i thefencegurusllc.com\n    use_backend fence-gurus-llc if acl_thefencegurusllc\n\n    acl acl_zevrantServices req.ssl_sni -i zevrant-services.com\n    use_backend zevrant-services if acl_zevrantServices\n\n    acl acl_zevrantServicesBeta req.ssl_sni -i beta.zevrant-services.com\n    use_backend zevrant-services-beta if acl_zevrantServicesBeta\n\nbackend vault\n    mode tcp\n    balance roundrobin\n    timeout connect 5s\n    timeout server 1m\n    server primary 10.1.0.6:8200 check\n\nbackend https_jenkins\n    mode tcp\n    balance roundrobin\n    timeout connect 5s\n    timeout server 1m\n    server primary 10.1.0.3:8443 check\n\nbackend fence-gurus-beta\n    mode tcp\n    balance roundrobin\n    timeout connect 5s\n    timeout server 1m\n    server primary 10.1.0.11:8080\n\nbackend nextcloud\n    mode tcp\n    balance roundrobin\n    timeout connect 5s\n    timeout server 1m\n    server primary 10.0.0.4:443\n\nbackend s3\n    mode tcp\n    balance roundrobin\n    timeout connect 5s\n    timeout server 1m\n    server s3 127.0.0.1:9000\n\nbackend fence-gurus-llc\n    mode tcp\n    balance roundrobin\n    timeout connect 5s\n    timeout server 1m\n    server primary 10.1.0.13:8080\n\nbackend zevrant-services\n    mode tcp\n    balance roundrobin\n    timeout connect 5s\n    timeout server 1m\n    server blue 10.1.0.15:8080\n    server green 10.1.0.16:8080\n\nbackend zevrant-services-beta\n    mode tcp\n    balance roundrobin\n    timeout connect 5s\n    timeout server 1m\n    server primary 10.1.0.14:8080\n\n\n"
                },
                {
                  "filename": "conf.d/jenkins-ingress.cfg",
                  "value": "frontend jenkins\n        bind :80\n        mode http\n        default_backend jenkins\n\nbackend jenkins\n        mode http\n        balance roundrobin\n        server primary 10.1.0.3:8080 check\n        http-request set-header X-Forwarded-Port %[dst_port]\n        http-request add-header X-Forwarded-Proto https if { ssl_fc }\n        http-request set-header X-Forwarded-Host %[req.hdr(Host)]\n"
                },
                {
                  "filename": "conf.d/garage.cfg",
                  "value": "frontend s3\n    mode http\n    bind :9000 ssl crt /etc/haproxy/certs/s3.pem\n    option http-server-close\n    option forwardfor\n    http-request add-header X-Forwarded-Proto https\n    http-request add-header X-Forwarded-Port 443\n\n    # set HTTP Strict Transport Security (HTST) header\n    http-response add-header Strict-Transport-Security max-age=15768000\n    default_backend garage\n\n\nbackend garage\n    mode http\n    server garage1 garage1.zevrant-services.internal:443 ssl verify none #verify required ca-file /etc/haproxy/certs/CA.pem\n    server garage2 garage2.zevrant-services.internal:443 ssl verify none #verify required ca-file /etc/haproxy/certs/CA.pem\n    server garage3 garage3.zevrant-services.internal:443 ssl verify none #verify required ca-file /etc/haproxy/certs/CA.pem\n\n\n\n\n\nfrontend s3-metrics\n    bind :9001 ssl crt /etc/haproxy/certs/s3.pem\n    option http-server-close\n    option forwardfor\n#    http-request add-header X-Forwarded-Proto https\n    http-request add-header X-Forwarded-Port 3904\n\n    # set HTTP Strict Transport Security (HTST) header\n    http-response add-header Strict-Transport-Security max-age=15768000\n    default_backend garage-metrics\n\nbackend garage-metrics\n    mode http\n    balance roundrobin\n    server garage1 garage1.zevrant-services.internal:3904\n    server garage2 garage2.zevrant-services.internal:3904\n    server garage3 garage3.zevrant-services.internal:3904\n"
                },
                {
                  "filename": "certs/s3.pem",
                  "value": "-----BEGIN EC PRIVATE KEY-----\nMIGkAgEBBDCHrf5uOaDAXe0rNt7kGf3tWvOx51MduCCIUINOKrZjJhNiQ15/qNjJ\nQSF1iFFzqSCgBwYFK4EEACKhZANiAATRpNXs1KonFagzS40PxTByG2nB1RcMeV9b\ngICdAtdQLNL9WpcoKCvZ4gwHb9KYNTgnqT+quEDus0GaWS0NE6CE1Foc2s+QFWs+\naEFHofwsFossM5KUuG2hOQi5Inf4858=\n-----END EC PRIVATE KEY-----\n-----BEGIN CERTIFICATE-----\nMIICJzCCAaygAwIBAgIUISbNK0M+VBnZWdi11I7ZcdoXu78wCgYIKoZIzj0EAwMw\nJDEiMCAGA1UEAxMZemV2cmFudC1zZXJ2aWNlcy5pbnRlcm5hbDAeFw0yNTA1MTIx\nMzQ0MjBaFw0yNTA1MjYxMzQ0NTBaMCcxJTAjBgNVBAMTHHMzLnpldnJhbnQtc2Vy\ndmljZXMuaW50ZXJuYWwwdjAQBgcqhkjOPQIBBgUrgQQAIgNiAATRpNXs1KonFagz\nS40PxTByG2nB1RcMeV9bgICdAtdQLNL9WpcoKCvZ4gwHb9KYNTgnqT+quEDus0Ga\nWS0NE6CE1Foc2s+QFWs+aEFHofwsFossM5KUuG2hOQi5Inf485+jgZswgZgwDgYD\nVR0PAQH/BAQDAgOoMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAdBgNV\nHQ4EFgQUhuJ5tOFm/6Lz92YWyvwWB6LuTO0wHwYDVR0jBBgwFoAU7ktOgI5FcTSU\nhZV37o7TMfq9yjEwJwYDVR0RBCAwHoIcczMuemV2cmFudC1zZXJ2aWNlcy5pbnRl\ncm5hbDAKBggqhkjOPQQDAwNpADBmAjEAgncnNNeDJRpDBZw23P8iHKD/nOkoBeYh\nrEPLwwXA7Oknp+8m90Io65esxzIvvuRZAjEAynqq/HY3b4MkCvAUDe5aWdgX1Pvv\njzRDK0+6vS7WGl6h7J4fiwQt20hJIGIEegO/\n-----END CERTIFICATE-----\n-----BEGIN CERTIFICATE-----\nMIICnTCCAiSgAwIBAgIUavTv9A1IIaaoHAEj90e8uJUOoF8wCgYIKoZIzj0EAwMw\nJDEiMCAGA1UEAxMZemV2cmFudC1zZXJ2aWNlcy5pbnRlcm5hbDAeFw0yNTAxMTYw\nMTM2MjFaFw0zMDAxMTUwMTM2NTFaMCQxIjAgBgNVBAMTGXpldnJhbnQtc2Vydmlj\nZXMuaW50ZXJuYWwwdjAQBgcqhkjOPQIBBgUrgQQAIgNiAASyVJimopcof12pSKcq\nieReX/rgZNmUEk0vzAPGbrvfwyYwGd3vXIsnyNoqkdljcAmRYUb8ltRs1Yfm5bfO\nSUvkDIe1yvRpfcH92zqQxp0mg1h9lez+iADi50BZgCr7OyWjggEVMIIBETAOBgNV\nHQ8BAf8EBAMCAQYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQU7ktOgI5FcTSU\nhZV37o7TMfq9yjEwHwYDVR0jBBgwFoAUe9aP9qQkIgFylinNFVdxD8KbQ4swSAYI\nKwYBBQUHAQEEPDA6MDgGCCsGAQUFBzAChixodHRwczovL3ZhdWx0LnpldnJhbnQt\nc2VydmljZXMuY29tL3YxL3BraS9jYTAkBgNVHREEHTAbghl6ZXZyYW50LXNlcnZp\nY2VzLmludGVybmFsMD4GA1UdHwQ3MDUwM6AxoC+GLWh0dHBzOi8vdmF1bHQuemV2\ncmFudC1zZXJ2aWNlcy5jb20vdjEvcGtpL2NybDAKBggqhkjOPQQDAwNnADBkAjAj\nOObVQEsD6yRiJgZNxJ3qmELGliB95kA6ea8bYaJGy8QXU2fVFEutW6X230MPRucC\nMF/wBWmKd5qhNBSLDe9E503ilU/K0QxlbWUuMqOIeNYRcMzBSvQLT4nbZfiaT05f\nSQ==\n-----END CERTIFICATE-----\n-----BEGIN CERTIFICATE-----\nMIICnzCCAiSgAwIBAgIUPZa4yl9/sRCFe2sWnoFACjt3C6QwCgYIKoZIzj0EAwMw\nJDEiMCAGA1UEAxMZemV2cmFudC1zZXJ2aWNlcy5pbnRlcm5hbDAeFw0yNTAxMTYw\nMTM2MjFaFw0zNTAxMTQwMTM2NTFaMCQxIjAgBgNVBAMTGXpldnJhbnQtc2Vydmlj\nZXMuaW50ZXJuYWwwdjAQBgcqhkjOPQIBBgUrgQQAIgNiAASwDruXv2KH1i9hVZZ1\nxaQaWZfcgEdZzvBPmvQ8sDvAQxDvvDudk+mHdItkJbm0NQvNilEc5MoN8Jh1LBCe\nEQnz3Y1Y1QYx3l+Kz0lXXJU5RyZ0JuXp9n6D+YtXCmiCKG6jggEVMIIBETAOBgNV\nHQ8BAf8EBAMCAQYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUe9aP9qQkIgFy\nlinNFVdxD8KbQ4swHwYDVR0jBBgwFoAUe9aP9qQkIgFylinNFVdxD8KbQ4swSAYI\nKwYBBQUHAQEEPDA6MDgGCCsGAQUFBzAChixodHRwczovL3ZhdWx0LnpldnJhbnQt\nc2VydmljZXMuY29tL3YxL3BraS9jYTAkBgNVHREEHTAbghl6ZXZyYW50LXNlcnZp\nY2VzLmludGVybmFsMD4GA1UdHwQ3MDUwM6AxoC+GLWh0dHBzOi8vdmF1bHQuemV2\ncmFudC1zZXJ2aWNlcy5jb20vdjEvcGtpL2NybDAKBggqhkjOPQQDAwNpADBmAjEA\nj90H3jyO19g3pI8f3q0pb27gC+hi8VYNSTj6ifLbwcmCgtgrXLjxlOVEE+oQcOfc\nAjEAjsRsNJGBsyKGIZhC/i3hukR68jGofhmt8piEfjaOk4K4PZif+/y7xeDx5iwY\nLRa6\n-----END CERTIFICATE-----\n"
                },
                {
                  "filename": "certs/CA.pem",
                  "value": "-----BEGIN CERTIFICATE-----\nMIICnzCCAiSgAwIBAgIUPZa4yl9/sRCFe2sWnoFACjt3C6QwCgYIKoZIzj0EAwMw\nJDEiMCAGA1UEAxMZemV2cmFudC1zZXJ2aWNlcy5pbnRlcm5hbDAeFw0yNTAxMTYw\nMTM2MjFaFw0zNTAxMTQwMTM2NTFaMCQxIjAgBgNVBAMTGXpldnJhbnQtc2Vydmlj\nZXMuaW50ZXJuYWwwdjAQBgcqhkjOPQIBBgUrgQQAIgNiAASwDruXv2KH1i9hVZZ1\nxaQaWZfcgEdZzvBPmvQ8sDvAQxDvvDudk+mHdItkJbm0NQvNilEc5MoN8Jh1LBCe\nEQnz3Y1Y1QYx3l+Kz0lXXJU5RyZ0JuXp9n6D+YtXCmiCKG6jggEVMIIBETAOBgNV\nHQ8BAf8EBAMCAQYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUe9aP9qQkIgFy\nlinNFVdxD8KbQ4swHwYDVR0jBBgwFoAUe9aP9qQkIgFylinNFVdxD8KbQ4swSAYI\nKwYBBQUHAQEEPDA6MDgGCCsGAQUFBzAChixodHRwczovL3ZhdWx0LnpldnJhbnQt\nc2VydmljZXMuY29tL3YxL3BraS9jYTAkBgNVHREEHTAbghl6ZXZyYW50LXNlcnZp\nY2VzLmludGVybmFsMD4GA1UdHwQ3MDUwM6AxoC+GLWh0dHBzOi8vdmF1bHQuemV2\ncmFudC1zZXJ2aWNlcy5jb20vdjEvcGtpL2NybDAKBggqhkjOPQQDAwNpADBmAjEA\nj90H3jyO19g3pI8f3q0pb27gC+hi8VYNSTj6ifLbwcmCgtgrXLjxlOVEE+oQcOfc\nAjEAjsRsNJGBsyKGIZhC/i3hukR68jGofhmt8piEfjaOk4K4PZif+/y7xeDx5iwY\nLRa6\n-----END CERTIFICATE-----\n"
                },
                {
                  "filename": "vm-config.json",
                  "value": "{\n  \"ports\": [\n    {\n      \"port\": 80\n      \"protocol\": \"tcp\"\n    },\n    {\n      \"port\": 443\n      \"protocol\": \"tcp\"\n    },\n    {\n      \"port\": 8080\n      \"protocol\": \"tcp\"\n    },\n    {\n      \"port\": 9000\n      \"protocol\": \"tcp\"\n    },\n    {\n      \"port\": 9001\n      \"protocol\": \"tcp\"\n    }\n\n  ]\n}\n"
                }
              ],
              "type": [
                "list",
                [
                  "object",
                  {
                    "filename": "string",
                    "value": "string"
                  }
                ]
              ]
            },
            "triggers_replace": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "input"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "input"
              },
              {
                "type": "index",
                "value": {
                  "value": 4,
                  "type": "number"
                }
              },
              {
                "type": "get_attr",
                "value": "value"
              }
            ]
          ],
          "dependencies": [
            "module.s3_internal_certificate.terraform_data.ttl",
            "module.s3_internal_certificate.vault_pki_secret_backend_cert.certificate_request"
          ]
        }
      ]
    },
    {
      "module": "module.keepalived_secret_volume",
      "mode": "managed",
      "type": "local_file",
      "name": "secret_files",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "content": "vrrp_script check_haproxy_status {\n    script \"killall -0 haproxy\"\n    interval 3\n    rise 3\n    fall 1\n}\n\nvrrp_instance VI_1 {\n        state MASTER\n        interface eth0\n        virtual_router_id 2\n\n        priority 1\n\n        advert_int 1\n        authentication {\n              auth_type PASS\n              auth_pass ppass\n        }\n        virtual_ipaddress {\n              10.1.0.222/24\n        }\n        unicast_src_ip 10.1.0.100\n        unicast_peer {\n                }\n\n        track_script {\n            check_haproxy_status\n        }\n}",
            "content_base64": null,
            "content_base64sha256": "5jvhje3kfSZJAoIW7xvWLl68KF7R1FrR3yRB6L1h99o=",
            "content_base64sha512": "4JPqgPxSTF9nRx9eNyUMfgUhkxPKdYmAYBNqOhqHiVryFNQgRegjLXDoZYcXb/7rXC+pRIqahAdORRPShufRdQ==",
            "content_md5": "ec21ae7102b42d93bf3301c2e37dde18",
            "content_sha1": "666110a54537cee22d6538de131040d9f6b2dc17",
            "content_sha256": "e63be18dede47d2649028216ef1bd62e5ebc285ed1d45ad1df2441e8bd61f7da",
            "content_sha512": "e093ea80fc524c5f67471f5e37250c7e05219313ca75898060136a3a1a87895af214d42045e8232d70e86587176ffeeb5c2fa9448a9a84074e4513d286e7d175",
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "secrets/d00b02c2-dc4e-c3a7-1d8f-1cf7c14ef60e/keepalived.conf",
            "id": "666110a54537cee22d6538de131040d9f6b2dc17",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "content"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "sensitive_content"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "filename"
              }
            ]
          ],
          "dependencies": [
            "module.keepalived_secret_volume.random_uuid.secrets_folder",
            "module.keepalived_secret_volume.terraform_data.regenerate_uuid"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "content": "./check.sh",
            "content_base64": null,
            "content_base64sha256": "KxSLmqniQ+R7PInsw0/aaEUh37JJ3tWQc5jniqkxIRA=",
            "content_base64sha512": "Jd5d1f6PJY2fLysBzYcQ8LQpPXq962Ee7HalTivV6EDECYrKGbtPeRE3AJ0PfcVwLu7TwwsJ5StiYJaX8An4Lw==",
            "content_md5": "d0dcaaef73d6342fccb7c795dbc1541f",
            "content_sha1": "f8a4e8c3a51765cbdb7c671500b87598edc06583",
            "content_sha256": "2b148b9aa9e243e47b3c89ecc34fda684521dfb249ded5907398e78aa9312110",
            "content_sha512": "25de5dd5fe8f258d9f2f2b01cd8710f0b4293d7abdeb611eec76a54e2bd5e840c4098aca19bb4f791137009d0f7dc5702eeed3c30b09e52b62609697f009f82f",
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "secrets/d00b02c2-dc4e-c3a7-1d8f-1cf7c14ef60e/check.sh",
            "id": "f8a4e8c3a51765cbdb7c671500b87598edc06583",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "filename"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "sensitive_content"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "content"
              }
            ]
          ],
          "dependencies": [
            "module.keepalived_secret_volume.random_uuid.secrets_folder",
            "module.keepalived_secret_volume.terraform_data.regenerate_uuid"
          ]
        }
      ]
    },
    {
      "module": "module.keepalived_secret_volume",
      "mode": "managed",
      "type": "null_resource",
      "name": "secret_volume",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "198232782081921477",
            "triggers": {
              "secretValues": "4JPqgPxSTF9nRx9eNyUMfgUhkxPKdYmAYBNqOhqHiVryFNQgRegjLXDoZYcXb/7rXC+pRIqahAdORRPShufRdQ==Jd5d1f6PJY2fLysBzYcQ8LQpPXq962Ee7HalTivV6EDECYrKGbtPeRE3AJ0PfcVwLu7TwwsJ5StiYJaX8An4Lw==",
              "uuids": "d00b02c2-dc4e-c3a7-1d8f-1cf7c14ef60e"
            }
          },
          "sensitive_attributes": [],
          "dependencies": [
            "module.keepalived_secret_volume.local_file.secret_files",
            "module.keepalived_secret_volume.random_uuid.secrets_folder",
            "module.keepalived_secret_volume.terraform_data.regenerate_uuid"
          ]
        }
      ]
    },
    {
      "module": "module.keepalived_secret_volume",
      "mode": "managed",
      "type": "random_uuid",
      "name": "secrets_folder",
      "provider": "provider[\"registry.terraform.io/hashicorp/random\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "d00b02c2-dc4e-c3a7-1d8f-1cf7c14ef60e",
            "keepers": null,
            "result": "d00b02c2-dc4e-c3a7-1d8f-1cf7c14ef60e"
          },
          "sensitive_attributes": [],
          "dependencies": [
            "module.keepalived_secret_volume.terraform_data.regenerate_uuid"
          ]
        }
      ]
    },
    {
      "module": "module.keepalived_secret_volume",
      "mode": "managed",
      "type": "terraform_data",
      "name": "regenerate_uuid",
      "provider": "provider[\"terraform.io/builtin/terraform\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "215840ac-16a7-e5ea-e04d-130e485d6116",
            "input": {
              "value": {
                "filename": "keepalived.conf",
                "value": "vrrp_script check_haproxy_status {\n    script \"killall -0 haproxy\"\n    interval 3\n    rise 3\n    fall 1\n}\n\nvrrp_instance VI_1 {\n        state MASTER\n        interface eth0\n        virtual_router_id 2\n\n        priority 1\n\n        advert_int 1\n        authentication {\n              auth_type PASS\n              auth_pass ppass\n        }\n        virtual_ipaddress {\n              10.1.0.222/24\n        }\n        unicast_src_ip 10.1.0.100\n        unicast_peer {\n                }\n\n        track_script {\n            check_haproxy_status\n        }\n}"
              },
              "type": [
                "object",
                {
                  "filename": "string",
                  "value": "string"
                }
              ]
            },
            "output": {
              "value": {
                "filename": "keepalived.conf",
                "value": "vrrp_script check_haproxy_status {\n    script \"killall -0 haproxy\"\n    interval 3\n    rise 3\n    fall 1\n}\n\nvrrp_instance VI_1 {\n        state MASTER\n        interface eth0\n        virtual_router_id 2\n\n        priority 1\n\n        advert_int 1\n        authentication {\n              auth_type PASS\n              auth_pass ppass\n        }\n        virtual_ipaddress {\n              10.1.0.222/24\n        }\n        unicast_src_ip 10.1.0.100\n        unicast_peer {\n                }\n\n        track_script {\n            check_haproxy_status\n        }\n}"
              },
              "type": [
                "object",
                {
                  "filename": "string",
                  "value": "string"
                }
              ]
            },
            "triggers_replace": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "input"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "input"
              },
              {
                "type": "get_attr",
                "value": "value"
              }
            ]
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "id": "d900fa2b-2da3-2ebf-c87b-e216eb628422",
            "input": {
              "value": {
                "filename": "check.sh",
                "value": "./check.sh"
              },
              "type": [
                "object",
                {
                  "filename": "string",
                  "value": "string"
                }
              ]
            },
            "output": {
              "value": {
                "filename": "check.sh",
                "value": "./check.sh"
              },
              "type": [
                "object",
                {
                  "filename": "string",
                  "value": "string"
                }
              ]
            },
            "triggers_replace": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "input"
              }
            ]
          ]
        }
      ]
    },
    {
      "module": "module.s3_internal_certificate",
      "mode": "managed",
      "type": "terraform_data",
      "name": "ttl",
      "provider": "provider[\"terraform.io/builtin/terraform\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "b349c39d-2347-ee5c-882a-dde92446d88f",
            "input": {
              "value": 6048000,
              "type": "number"
            },
            "output": {
              "value": 6048000,
              "type": "number"
            },
            "triggers_replace": null
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.s3_internal_certificate",
      "mode": "managed",
      "type": "vault_pki_secret_backend_cert",
      "name": "certificate_request",
      "provider": "provider[\"registry.terraform.io/hashicorp/vault\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "alt_names": [],
            "auto_renew": true,
            "backend": "pki_shared",
            "ca_chain": "-----BEGIN CERTIFICATE-----\nMIICnTCCAiSgAwIBAgIUavTv9A1IIaaoHAEj90e8uJUOoF8wCgYIKoZIzj0EAwMw\nJDEiMCAGA1UEAxMZemV2cmFudC1zZXJ2aWNlcy5pbnRlcm5hbDAeFw0yNTAxMTYw\nMTM2MjFaFw0zMDAxMTUwMTM2NTFaMCQxIjAgBgNVBAMTGXpldnJhbnQtc2Vydmlj\nZXMuaW50ZXJuYWwwdjAQBgcqhkjOPQIBBgUrgQQAIgNiAASyVJimopcof12pSKcq\nieReX/rgZNmUEk0vzAPGbrvfwyYwGd3vXIsnyNoqkdljcAmRYUb8ltRs1Yfm5bfO\nSUvkDIe1yvRpfcH92zqQxp0mg1h9lez+iADi50BZgCr7OyWjggEVMIIBETAOBgNV\nHQ8BAf8EBAMCAQYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQU7ktOgI5FcTSU\nhZV37o7TMfq9yjEwHwYDVR0jBBgwFoAUe9aP9qQkIgFylinNFVdxD8KbQ4swSAYI\nKwYBBQUHAQEEPDA6MDgGCCsGAQUFBzAChixodHRwczovL3ZhdWx0LnpldnJhbnQt\nc2VydmljZXMuY29tL3YxL3BraS9jYTAkBgNVHREEHTAbghl6ZXZyYW50LXNlcnZp\nY2VzLmludGVybmFsMD4GA1UdHwQ3MDUwM6AxoC+GLWh0dHBzOi8vdmF1bHQuemV2\ncmFudC1zZXJ2aWNlcy5jb20vdjEvcGtpL2NybDAKBggqhkjOPQQDAwNnADBkAjAj\nOObVQEsD6yRiJgZNxJ3qmELGliB95kA6ea8bYaJGy8QXU2fVFEutW6X230MPRucC\nMF/wBWmKd5qhNBSLDe9E503ilU/K0QxlbWUuMqOIeNYRcMzBSvQLT4nbZfiaT05f\nSQ==\n-----END CERTIFICATE-----\n-----BEGIN CERTIFICATE-----\nMIICnzCCAiSgAwIBAgIUPZa4yl9/sRCFe2sWnoFACjt3C6QwCgYIKoZIzj0EAwMw\nJDEiMCAGA1UEAxMZemV2cmFudC1zZXJ2aWNlcy5pbnRlcm5hbDAeFw0yNTAxMTYw\nMTM2MjFaFw0zNTAxMTQwMTM2NTFaMCQxIjAgBgNVBAMTGXpldnJhbnQtc2Vydmlj\nZXMuaW50ZXJuYWwwdjAQBgcqhkjOPQIBBgUrgQQAIgNiAASwDruXv2KH1i9hVZZ1\nxaQaWZfcgEdZzvBPmvQ8sDvAQxDvvDudk+mHdItkJbm0NQvNilEc5MoN8Jh1LBCe\nEQnz3Y1Y1QYx3l+Kz0lXXJU5RyZ0JuXp9n6D+YtXCmiCKG6jggEVMIIBETAOBgNV\nHQ8BAf8EBAMCAQYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUe9aP9qQkIgFy\nlinNFVdxD8KbQ4swHwYDVR0jBBgwFoAUe9aP9qQkIgFylinNFVdxD8KbQ4swSAYI\nKwYBBQUHAQEEPDA6MDgGCCsGAQUFBzAChixodHRwczovL3ZhdWx0LnpldnJhbnQt\nc2VydmljZXMuY29tL3YxL3BraS9jYTAkBgNVHREEHTAbghl6ZXZyYW50LXNlcnZp\nY2VzLmludGVybmFsMD4GA1UdHwQ3MDUwM6AxoC+GLWh0dHBzOi8vdmF1bHQuemV2\ncmFudC1zZXJ2aWNlcy5jb20vdjEvcGtpL2NybDAKBggqhkjOPQQDAwNpADBmAjEA\nj90H3jyO19g3pI8f3q0pb27gC+hi8VYNSTj6ifLbwcmCgtgrXLjxlOVEE+oQcOfc\nAjEAjsRsNJGBsyKGIZhC/i3hukR68jGofhmt8piEfjaOk4K4PZif+/y7xeDx5iwY\nLRa6\n-----END CERTIFICATE-----",
            "cert_metadata": null,
            "certificate": "-----BEGIN CERTIFICATE-----\nMIICJzCCAaygAwIBAgIUISbNK0M+VBnZWdi11I7ZcdoXu78wCgYIKoZIzj0EAwMw\nJDEiMCAGA1UEAxMZemV2cmFudC1zZXJ2aWNlcy5pbnRlcm5hbDAeFw0yNTA1MTIx\nMzQ0MjBaFw0yNTA1MjYxMzQ0NTBaMCcxJTAjBgNVBAMTHHMzLnpldnJhbnQtc2Vy\ndmljZXMuaW50ZXJuYWwwdjAQBgcqhkjOPQIBBgUrgQQAIgNiAATRpNXs1KonFagz\nS40PxTByG2nB1RcMeV9bgICdAtdQLNL9WpcoKCvZ4gwHb9KYNTgnqT+quEDus0Ga\nWS0NE6CE1Foc2s+QFWs+aEFHofwsFossM5KUuG2hOQi5Inf485+jgZswgZgwDgYD\nVR0PAQH/BAQDAgOoMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAdBgNV\nHQ4EFgQUhuJ5tOFm/6Lz92YWyvwWB6LuTO0wHwYDVR0jBBgwFoAU7ktOgI5FcTSU\nhZV37o7TMfq9yjEwJwYDVR0RBCAwHoIcczMuemV2cmFudC1zZXJ2aWNlcy5pbnRl\ncm5hbDAKBggqhkjOPQQDAwNpADBmAjEAgncnNNeDJRpDBZw23P8iHKD/nOkoBeYh\nrEPLwwXA7Oknp+8m90Io65esxzIvvuRZAjEAynqq/HY3b4MkCvAUDe5aWdgX1Pvv\njzRDK0+6vS7WGl6h7J4fiwQt20hJIGIEegO/\n-----END CERTIFICATE-----",
            "common_name": "s3.zevrant-services.internal",
            "exclude_cn_from_sans": null,
            "expiration": 1748267090,
            "format": "pem",
            "id": "pki_shared/zevrant-services-shared/s3.zevrant-services.internal",
            "ip_sans": null,
            "issuer_ref": "7149394f-5f66-0579-fced-27db21503f89",
            "issuing_ca": "-----BEGIN CERTIFICATE-----\nMIICnTCCAiSgAwIBAgIUavTv9A1IIaaoHAEj90e8uJUOoF8wCgYIKoZIzj0EAwMw\nJDEiMCAGA1UEAxMZemV2cmFudC1zZXJ2aWNlcy5pbnRlcm5hbDAeFw0yNTAxMTYw\nMTM2MjFaFw0zMDAxMTUwMTM2NTFaMCQxIjAgBgNVBAMTGXpldnJhbnQtc2Vydmlj\nZXMuaW50ZXJuYWwwdjAQBgcqhkjOPQIBBgUrgQQAIgNiAASyVJimopcof12pSKcq\nieReX/rgZNmUEk0vzAPGbrvfwyYwGd3vXIsnyNoqkdljcAmRYUb8ltRs1Yfm5bfO\nSUvkDIe1yvRpfcH92zqQxp0mg1h9lez+iADi50BZgCr7OyWjggEVMIIBETAOBgNV\nHQ8BAf8EBAMCAQYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQU7ktOgI5FcTSU\nhZV37o7TMfq9yjEwHwYDVR0jBBgwFoAUe9aP9qQkIgFylinNFVdxD8KbQ4swSAYI\nKwYBBQUHAQEEPDA6MDgGCCsGAQUFBzAChixodHRwczovL3ZhdWx0LnpldnJhbnQt\nc2VydmljZXMuY29tL3YxL3BraS9jYTAkBgNVHREEHTAbghl6ZXZyYW50LXNlcnZp\nY2VzLmludGVybmFsMD4GA1UdHwQ3MDUwM6AxoC+GLWh0dHBzOi8vdmF1bHQuemV2\ncmFudC1zZXJ2aWNlcy5jb20vdjEvcGtpL2NybDAKBggqhkjOPQQDAwNnADBkAjAj\nOObVQEsD6yRiJgZNxJ3qmELGliB95kA6ea8bYaJGy8QXU2fVFEutW6X230MPRucC\nMF/wBWmKd5qhNBSLDe9E503ilU/K0QxlbWUuMqOIeNYRcMzBSvQLT4nbZfiaT05f\nSQ==\n-----END CERTIFICATE-----",
            "min_seconds_remaining": 172800,
            "name": "zevrant-services-shared",
            "namespace": null,
            "not_after": null,
            "other_sans": null,
            "private_key": "-----BEGIN EC PRIVATE KEY-----\nMIGkAgEBBDCHrf5uOaDAXe0rNt7kGf3tWvOx51MduCCIUINOKrZjJhNiQ15/qNjJ\nQSF1iFFzqSCgBwYFK4EEACKhZANiAATRpNXs1KonFagzS40PxTByG2nB1RcMeV9b\ngICdAtdQLNL9WpcoKCvZ4gwHb9KYNTgnqT+quEDus0GaWS0NE6CE1Foc2s+QFWs+\naEFHofwsFossM5KUuG2hOQi5Inf4858=\n-----END EC PRIVATE KEY-----",
            "private_key_format": "der",
            "private_key_type": "ec",
            "renew_pending": false,
            "revoke": true,
            "revoke_with_key": false,
            "serial_number": "21:26:cd:2b:43:3e:54:19:d9:59:d8:b5:d4:8e:d9:71:da:17:bb:bf",
            "ttl": "6048000",
            "uri_sans": null,
            "user_ids": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "private_key"
              }
            ]
          ],
          "private": "bnVsbA==",
          "dependencies": [
            "module.s3_internal_certificate.terraform_data.ttl"
          ]
        }
      ]
    }
  ],
  "check_results": [
    {
      "object_kind": "var",
      "config_addr": "var.keepalived_password",
      "status": "pass",
      "objects": [
        {
          "object_addr": "var.keepalived_password",
          "status": "pass"
        }
      ]
    },
    {
      "object_kind": "var",
      "config_addr": "var.replica_priority",
      "status": "pass",
      "objects": [
        {
          "object_addr": "var.replica_priority",
          "status": "pass"
        }
      ]
    },
    {
      "object_kind": "var",
      "config_addr": "var.virtual_ip_address",
      "status": "pass",
      "objects": [
        {
          "object_addr": "var.virtual_ip_address",
          "status": "pass"
        }
      ]
    },
    {
      "object_kind": "var",
      "config_addr": "var.ip_address",
      "status": "pass",
      "objects": [
        {
          "object_addr": "var.ip_address",
          "status": "pass"
        }
      ]
    }
  ]
}
